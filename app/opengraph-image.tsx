import { ImageResponse } from "next/og";

export const runtime = "edge";
export const alt = "Red Torii — The Anti-Impersonation Platform for Companies";
export const size = { width: 1200, height: 630 };
export const contentType = "image/png";

const toriiIconSvg = `<svg viewBox="0 0 700 510" fill="#C41E3A" xmlns="http://www.w3.org/2000/svg"><path d="M0 50C233.333 -16.6667 466.667 -16.6667 700 50L680 110C460 50 240 50 20 110L0 50Z"/><path d="M175 60H125C116.716 60 110 66.7157 110 75V495C110 503.284 116.716 510 125 510H175C183.284 510 190 503.284 190 495V75C190 66.7157 183.284 60 175 60Z"/><path d="M575 60H525C516.716 60 510 66.7157 510 75V495C510 503.284 516.716 510 525 510H575C583.284 510 590 503.284 590 495V75C590 66.7157 583.284 60 575 60Z"/><path d="M550 150H150C144.477 150 140 154.477 140 160V190C140 195.523 144.477 200 150 200H550C555.523 200 560 195.523 560 190V160C560 154.477 555.523 150 550 150Z"/></svg>`;

const wordmarkSvg = `<svg viewBox="0 0 783 101" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M50.12 99.6799L29.68 62.5799H23.94V99.6799H0V1.39993H40.18C47.9267 1.39993 54.53 2.75326 59.99 5.45993C65.45 8.1666 69.5333 11.8766 72.24 16.5899C74.9467 21.3033 76.3 26.5533 76.3 32.3399C76.3 38.8733 74.4567 44.7066 70.77 49.8399C67.0833 54.9733 61.6467 58.6133 54.46 60.7599L77.14 99.6799H50.12ZM23.94 45.6399H38.78C43.1667 45.6399 46.4567 44.5666 48.65 42.4199C50.8433 40.2733 51.94 37.2399 51.94 33.3199C51.94 29.5866 50.8433 26.6466 48.65 24.4999C46.4567 22.3533 43.1667 21.2799 38.78 21.2799H23.94V45.6399Z" fill="#C41E3A"/><path d="M132.02 20.5799V40.4599H164.08V58.9399H132.02V80.4999H168.28V99.6799H108.08V1.39993H168.28V20.5799H132.02Z" fill="#C41E3A"/><path d="M288.96 50.5399C288.96 60.1533 286.837 68.6933 282.59 76.1599C278.343 83.6266 272.323 89.4133 264.53 93.5199C256.737 97.6266 247.707 99.6799 237.44 99.6799H200.62V1.39993H237.44C247.8 1.39993 256.853 3.45326 264.6 7.55993C272.347 11.6666 278.343 17.4299 282.59 24.8499C286.837 32.2699 288.96 40.8333 288.96 50.5399ZM264.6 50.5399C264.6 41.4866 262.08 34.4399 257.04 29.3999C252 24.3599 244.953 21.8399 235.9 21.8399H224.56V78.9599H235.9C244.953 78.9599 252 76.4866 257.04 71.5399C262.08 66.5933 264.6 59.5933 264.6 50.5399Z" fill="#C41E3A"/><path d="M436.38 1.39993V20.5799H410.34V99.6799H386.4V20.5799H360.36V1.39993H436.38Z" fill="#FAF8F5"/><path d="M461.16 50.2599C461.16 40.6466 463.423 32.0132 467.95 24.3599C472.477 16.7066 478.59 10.7332 486.29 6.43991C493.99 2.14658 502.46 -8.83192e-05 511.7 -8.83192e-05C520.94 -8.83192e-05 529.41 2.14658 537.11 6.43991C544.81 10.7332 550.877 16.7066 555.31 24.3599C559.743 32.0132 561.96 40.6466 561.96 50.2599C561.96 59.8732 559.72 68.5299 555.24 76.2299C550.76 83.9299 544.693 89.9266 537.04 94.2199C529.387 98.5132 520.94 100.66 511.7 100.66C502.46 100.66 493.99 98.5132 486.29 94.2199C478.59 89.9266 472.477 83.9299 467.95 76.2299C463.423 68.5299 461.16 59.8732 461.16 50.2599ZM537.6 50.2599C537.6 41.5799 535.243 34.6499 530.53 29.4699C525.817 24.2899 519.54 21.6999 511.7 21.6999C503.767 21.6999 497.443 24.2666 492.73 29.3999C488.017 34.5332 485.66 41.4866 485.66 50.2599C485.66 58.9399 488.017 65.8699 492.73 71.0499C497.443 76.2299 503.767 78.8199 511.7 78.8199C519.54 78.8199 525.817 76.2066 530.53 70.9799C535.243 65.7532 537.6 58.8466 537.6 50.2599Z" fill="#FAF8F5"/><path d="M642.18 99.6799L621.74 62.5799H616V99.6799H592.06V1.39993H632.24C639.987 1.39993 646.59 2.75326 652.05 5.45993C657.51 8.1666 661.593 11.8766 664.3 16.5899C667.007 21.3033 668.36 26.5533 668.36 32.3399C668.36 38.8733 666.517 44.7066 662.83 49.8399C659.143 54.9733 653.707 58.6133 646.52 60.7599L669.2 99.6799H642.18ZM616 45.6399H630.84C635.227 45.6399 638.517 44.5666 640.71 42.4199C642.903 40.2733 644 37.2399 644 33.3199C644 29.5866 642.903 26.6466 640.71 24.4999C638.517 22.3533 635.227 21.2799 630.84 21.2799H616V45.6399Z" fill="#FAF8F5"/><path d="M724.08 1.39993V99.6799H700.14V1.39993H724.08Z" fill="#FAF8F5"/><path d="M782.18 1.39993V99.6799H758.24V1.39993H782.18Z" fill="#FAF8F5"/></svg>`;

export default function OGImage() {
  const toriiIconUri = `data:image/svg+xml,${encodeURIComponent(toriiIconSvg)}`;
  const wordmarkUri = `data:image/svg+xml,${encodeURIComponent(wordmarkSvg)}`;

  const channels = [
    { value: "+1-800-555-0142", type: "Phone", status: "Verified", color: "#22C55E" },
    { value: "@AcmeCorp", type: "X / Twitter", status: "Verified", color: "#22C55E" },
    { value: "j.park@acmecorp.com", type: "Email", status: "Verified", color: "#22C55E" },
    { value: "+1-800-555-0199", type: "Phone", status: "Retired", color: "#F59E0B" },
  ];

  return new ImageResponse(
    (
      <div
        style={{
          width: "100%",
          height: "100%",
          display: "flex",
          background: "#1A1A1A",
          position: "relative",
        }}
      >
        {/* Red accent bar at top */}
        <div
          style={{
            position: "absolute",
            top: 0,
            left: 0,
            right: 0,
            height: 4,
            background: "#C41E3A",
          }}
        />

        {/* Subtle grid pattern */}
        <div
          style={{
            position: "absolute",
            top: 0,
            left: 0,
            right: 0,
            bottom: 0,
            opacity: 0.03,
            backgroundImage:
              "linear-gradient(#FAF7F2 1px, transparent 1px), linear-gradient(90deg, #FAF7F2 1px, transparent 1px)",
            backgroundSize: "40px 40px",
          }}
        />

        {/* Left content */}
        <div
          style={{
            display: "flex",
            flexDirection: "column",
            justifyContent: "center",
            padding: "60px 64px",
            flex: 1,
            gap: 24,
          }}
        >
          {/* Logo */}
          <div
            style={{
              display: "flex",
              alignItems: "center",
              gap: 12,
            }}
          >
            <img
              src={toriiIconUri}
              width={44}
              height={32}
            />
            <img
              src={wordmarkUri}
              width={140}
              height={18}
            />
          </div>

          {/* Title */}
          <div
            style={{
              display: "flex",
              flexDirection: "column",
              gap: 4,
            }}
          >
            <span
              style={{
                fontSize: 52,
                fontWeight: 700,
                color: "#FAF7F2",
                lineHeight: 1.1,
                letterSpacing: "-0.02em",
              }}
            >
              Help customers verify
            </span>
            <span
              style={{
                fontSize: 48,
                fontWeight: 800,
                color: "#C41E3A",
                lineHeight: 1.1,
              }}
            >
              it&apos;s really you.
            </span>
          </div>

          {/* Subtitle */}
          <span
            style={{
              fontSize: 18,
              color: "#9B9B9B",
              lineHeight: 1.5,
              maxWidth: 440,
            }}
          >
            The anti-impersonation platform for companies. Protect your customers from fraud across every channel.
          </span>
        </div>

        {/* Right side — mini Trust Gate */}
        <div
          style={{
            display: "flex",
            flexDirection: "column",
            justifyContent: "center",
            paddingRight: 64,
            width: 420,
          }}
        >
          <div
            style={{
              display: "flex",
              flexDirection: "column",
              background: "#2A2A2A",
              border: "1px solid #3A3A3A",
            }}
          >
            {/* Trust Gate header */}
            <div
              style={{
                display: "flex",
                alignItems: "center",
                justifyContent: "space-between",
                padding: "14px 18px",
                borderBottom: "1px solid #3A3A3A",
              }}
            >
              <div
                style={{
                  display: "flex",
                  alignItems: "center",
                  gap: 10,
                }}
              >
                <div
                  style={{
                    width: 24,
                    height: 24,
                    background: "#C41E3A",
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "center",
                    color: "#FFF",
                    fontSize: 10,
                    fontWeight: 700,
                  }}
                >
                  AC
                </div>
                <span style={{ fontSize: 14, fontWeight: 700, color: "#FAF7F2" }}>
                  Acme Corp
                </span>
              </div>
              <span style={{ fontSize: 10, color: "#22C55E" }}>
                Domain verified
              </span>
            </div>

            {/* Channel rows */}
            {channels.map((ch) => (
              <div
                key={ch.value}
                style={{
                  display: "flex",
                  alignItems: "center",
                  justifyContent: "space-between",
                  padding: "12px 18px",
                  borderBottom: "1px solid #3A3A3A",
                }}
              >
                <div
                  style={{
                    display: "flex",
                    alignItems: "center",
                    gap: 10,
                  }}
                >
                  <div
                    style={{
                      width: 6,
                      height: 6,
                      borderRadius: "50%",
                      background: ch.color,
                    }}
                  />
                  <div style={{ display: "flex", flexDirection: "column", gap: 2 }}>
                    <span style={{ fontSize: 12, color: "#FAF7F2", fontWeight: 500 }}>
                      {ch.value}
                    </span>
                    <span style={{ fontSize: 10, color: "#6B6B6B" }}>
                      {ch.type}
                    </span>
                  </div>
                </div>
                <span
                  style={{
                    fontSize: 10,
                    fontWeight: 600,
                    color: ch.color,
                    textTransform: "uppercase",
                    letterSpacing: "0.05em",
                  }}
                >
                  {ch.status}
                </span>
              </div>
            ))}
          </div>
        </div>

        {/* Bottom bar */}
        <div
          style={{
            position: "absolute",
            bottom: 0,
            left: 0,
            right: 0,
            height: 48,
            background: "#141414",
            display: "flex",
            alignItems: "center",
            justifyContent: "space-between",
            padding: "0 64px",
            borderTop: "1px solid #2A2A2A",
          }}
        >
          <span style={{ fontSize: 12, color: "#6B6B6B" }}>
            redtorii.com
          </span>
          <span
            style={{
              fontSize: 11,
              color: "#6B6B6B",
              letterSpacing: "0.1em",
              textTransform: "uppercase",
            }}
          >
            B2B Customer Protection Platform
          </span>
        </div>
      </div>
    ),
    { ...size }
  );
}
